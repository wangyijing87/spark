
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      
      <div id="titlearea">
        <h2>『 Hadoop 』mac下Hadoop的安装与使用</h2>
      </div>
      <div id="contentarea"><div class="cell text-cell"><header class="post-header" style="color: rgb(85, 85, 85); font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);"><h1 class="post-title" itemprop="name headline" style="font-size: 26px; margin: 0px; padding: 0px; font-weight: 400; line-height: 1.5; text-align: center; word-break: break-word;"><br></h1></header><div class="post-body" itemprop="articleBody" style="font-family: Lato, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; text-align: justify; color: rgb(85, 85, 85); font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);"><p style="margin: 0px 0px 25px;">最近接触大数据，所以当然有必要学习下Hadoop和Spark(概念请自行百google或者百度)。Spark是Apache目前最火的一款快速处理大数据的开源框架，当然Hadoop也是一款处理大数据的框架，只是Sparck青出于蓝而胜于蓝，在出生之后就得到迅猛发展，所以有学者说日后Spark可能会将Hadoop淘汰(不是我说的，是学者说的哦)。<a id="more" style="background-color: transparent; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(153, 153, 153); overflow-wrap: break-word;"></a></p><p style="margin: 0px 0px 25px;">至于Hadoop与Spark的关系，就像是svn与git的关系，后者都是较前者后几年出来且火于前者的一款工具。那么学习大数据的处理框架时就会有很多人有这样一个疑惑:既然Hadoop是先于Spark出来的，那么我要不要先学习Hadoop呢，还是跳过Hadoop直接从Spark学习起?</p><p style="margin: 0px 0px 25px;">这样我们先看看git与svn的关系，svn是早于git好些年出生的版本控制工具，虽然二者性质都一样，但是学习git不一定要有svn的知识，所以Hadoop与Spark的关系也是这样，直接跳过Hadoop从Spark开始学习就好。我也是直接从Spark开始学起的，由于是新手，所以在前方给大家探路打算先学习一下Hadoop的搭建然后再去学习Spark相关技术，等学完后再来对本篇文章进行改正。关于Hadoop的概念介绍大家可以直接google或者百度，本篇文章只介绍mac环境下Hadoop的安装与使用(伪分布式Hadoop)。</p><p style="margin: 0px 0px 25px;"><strong>这段话是我学习Spark后再来更新的:</strong>针对上述的疑惑，我现在可以直接告诉大家:学习大数据处理框架可以跳过Hadoop的学习直接从Spark学，但是你在搭建Spark环境的之前还非得先搭建Hadoop环境，因为下篇文章中介绍的安装Spark时会讲搭建Spark的环境是依赖于该Hadoop的，所以总的来说就是:Hadoop的各种API知识啥的不用学，但是在搭建Spark前你还非得先搭建Hadoop的环境。所以大家还是规规矩矩按照本篇文章的介绍老老实实的先搭建好Hadoop的环境吧,good luck!</p><h2 id="1-安装Homebrew与Cask" style="margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 20px;"><a href="http://codingxiaxw.cn/2016/12/06/59-mac-hadoop/#1-%E5%AE%89%E8%A3%85Homebrew%E4%B8%8ECask" class="headerlink" title="1.安装Homebrew与Cask" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;"></a>1.安装Homebrew与Cask</h2><p style="margin: 0px 0px 25px;">关于Homebrew的一些命令我在这篇文章的<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">Homeberw段落</code>中有详细介绍<a href="http://codingxiaxw.cn/2016/12/02/58-mac-commands/" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;">mac下常用软件相关命令</a>,当然本篇文章也会基于本篇文章的目的进行专一性的命令介绍。</p><p style="margin: 0px 0px 25px;">打开Mac终端，安装OS X 不可或缺的套件管理器homebrew和homebrew cask:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">$ ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">执行过程需要输入root命令，当控制台出现:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br><span class="line" style="height: 20px;">2</span><br><span class="line" style="height: 20px;">3</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">.......</span><br><span class="line" style="height: 20px;">==&gt; Installation successful!</span><br><span class="line" style="height: 20px;">.......</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">恭喜你，成功安装homebrew。接下来安装homebrew cask,在终端输入:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">$ brew install caskroom/cask/brew-cask</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">根据提示进行安装。</p><h2 id="2-安装Java" style="margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 20px;"><a href="http://codingxiaxw.cn/2016/12/06/59-mac-hadoop/#2-%E5%AE%89%E8%A3%85Java" class="headerlink" title="2.安装Java" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;"></a>2.安装Java</h2><p style="margin: 0px 0px 25px;">这一步搞java开发的人请自行跳过，因为我相信你们早就已经成功的安装了java(其实mac系统已自动为我们集成)并成功配置了环境变量。我电脑上安装的JDK版本为1.7.0_79，并完成环境变量的配置。</p><h2 id="3-配置SSH" style="margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 20px;"><a href="http://codingxiaxw.cn/2016/12/06/59-mac-hadoop/#3-%E9%85%8D%E7%BD%AESSH" class="headerlink" title="3.配置SSH" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;"></a>3.配置SSH</h2><p style="margin: 0px 0px 25px;">为了确保在远程管理Hadoop以及Hadoop节点用户共享时的安全性, Hadoop需要配置使用SSH协议。</p><p style="margin: 0px 0px 25px;">首先在系统偏好设置-&gt;共享-&gt;打开远程登录服务-&gt;右侧选择允许所有用户访问。</p><p style="margin: 0px 0px 25px;">首先在终端输入:<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">ssh localhost</code>，如果终端有返回<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">Last login: Tue Dec 6 11:47:39 2016 from ::1</code>，说明你之前成功配置了SSH keys,如果没有返回该内容，请按下述步骤新建一个配置:</p><p style="margin: 0px 0px 25px;">在终端输入:<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">$ ssh-keygen -t rsa</code></p><p style="margin: 0px 0px 25px;">执行上述命令会在当前用户目录下的.ssh文件夹(是一个隐藏文件)中生成一个id_rsa文件, 然后继续执行如下命令:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">用于授权你的公钥到本地可以避免每次登陆时都要询问你的密码,再次输入<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">ssh localhost</code>若返回<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">Last login: Tue Dec 6 11:47:39 2016 from ::1</code>，恭喜你，成功完成ssh的配置。</p><h2 id="4-安装Hodoop" style="margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 20px;"><a href="http://codingxiaxw.cn/2016/12/06/59-mac-hadoop/#4-%E5%AE%89%E8%A3%85Hodoop" class="headerlink" title="4.安装Hodoop" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;"></a>4.安装Hodoop</h2><p style="margin: 0px 0px 25px;">之前的三步骤都是安装Hadoop前的准备，有了前期的准备，安装Hadoop也简单了，执行命令<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">brew install hadoop</code>，等待系统安装，完成后Hadoop会被安装到<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">/usr/local/Cellar/hadoop</code>下。然后需要进行如下配置才能算成功安装Hadoop。</p><h3 id="4-1配置Hadoop" style="margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 18px;"><a href="http://codingxiaxw.cn/2016/12/06/59-mac-hadoop/#4-1%E9%85%8D%E7%BD%AEHadoop" class="headerlink" title="4.1配置Hadoop" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;"></a>4.1配置Hadoop</h3><p style="margin: 0px 0px 25px;">1.首先更改Hadoop的配置文件信息，找到<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">usr/local/Cellar/hadoop/2.7.3/libexec/etc/hadoop</code>目录下，打开<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">hadoop-env.sh</code>文件，找到其中一行:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">export HADOOP_OPTS="$HADOOP_OPTS -Djava.net.preferIPv4Stack=true"</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">将其修改为:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br><span class="line" style="height: 20px;">2</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">export HADOOP_OPTS="$HADOOP_OPTS -Djava.net.preferIPv4Stack=true -Djava.security.krb5.realm= -Djava.security.krb5.kdc="</span><br><span class="line" style="height: 20px;">export JAVA_HOME="/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home" #改为自己JDK目录</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">2.然后要配置hdfs的地址和端口号，在<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">usr/local/Cellar/hadoop/2.7.3/libexec/etc/hadoop</code>目录下，打开<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">core-site.xml</code>，会发现<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">core-site.xml</code>文件中的<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">&lt;configuration&gt;&lt;/configuration&gt;</code>标签中间的内容为空，需要我们自己加入如下配置信息:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br><span class="line" style="height: 20px;">2</span><br><span class="line" style="height: 20px;">3</span><br><span class="line" style="height: 20px;">4</span><br><span class="line" style="height: 20px;">5</span><br><span class="line" style="height: 20px;">6</span><br><span class="line" style="height: 20px;">7</span><br><span class="line" style="height: 20px;">8</span><br><span class="line" style="height: 20px;">9</span><br><span class="line" style="height: 20px;">10</span><br><span class="line" style="height: 20px;">11</span><br><span class="line" style="height: 20px;">12</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">&lt;!-- Put site-specific property overrides in this file. --&gt;</span><br><span class="line" style="height: 20px;"> &lt;configuration&gt;</span><br><span class="line" style="height: 20px;">  &lt;property&gt;</span><br><span class="line" style="height: 20px;">     &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line" style="height: 20px;">&lt;value&gt;/usr/local/Cellar/hadoop/hdfs/tmp&lt;/value&gt;</span><br><span class="line" style="height: 20px;">    &lt;description&gt;A base for other temporary directories.&lt;/description&gt;</span><br><span class="line" style="height: 20px;">  &lt;/property&gt;</span><br><span class="line" style="height: 20px;">  &lt;property&gt;</span><br><span class="line" style="height: 20px;">     &lt;name&gt;fs.default.name&lt;/name&gt;</span><br><span class="line" style="height: 20px;">     &lt;value&gt;hdfs://localhost:8020&lt;/value&gt;</span><br><span class="line" style="height: 20px;">  &lt;/property&gt;</span><br><span class="line" style="height: 20px;">&lt;/configuration&gt;</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">3.再然后就是设置map-reduce中jobtracker的地址和端口号，在目录<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">usr/local/Cellar/hadoop/2.7.3/libexec/etc/hadoop</code>下，找到<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">mapred-site.xml</code>文件，在其内加上:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br><span class="line" style="height: 20px;">2</span><br><span class="line" style="height: 20px;">3</span><br><span class="line" style="height: 20px;">4</span><br><span class="line" style="height: 20px;">5</span><br><span class="line" style="height: 20px;">6</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">&lt;configuration&gt;</span><br><span class="line" style="height: 20px;">      &lt;property&gt;</span><br><span class="line" style="height: 20px;">        &lt;name&gt;mapred.job.tracker&lt;/name&gt;</span><br><span class="line" style="height: 20px;">        &lt;value&gt;localhost:8021&lt;/value&gt;</span><br><span class="line" style="height: 20px;">      &lt;/property&gt;</span><br><span class="line" style="height: 20px;">&lt;/configuration&gt;</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">4.最后要设置hdfs的默认备份方式，默认值是3，在伪分布式系统中，需要修改为1。在目录<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">usr/local/Cellar/hadoop/2.7.3/libexec/etc/hadoop</code>下，找到<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">hdfs-site.xml</code>文件，在其内加上:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br><span class="line" style="height: 20px;">2</span><br><span class="line" style="height: 20px;">3</span><br><span class="line" style="height: 20px;">4</span><br><span class="line" style="height: 20px;">5</span><br><span class="line" style="height: 20px;">6</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">&lt;configuration&gt;</span><br><span class="line" style="height: 20px;">   &lt;property&gt;</span><br><span class="line" style="height: 20px;">     &lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line" style="height: 20px;">     &lt;value&gt;1&lt;/value&gt;</span><br><span class="line" style="height: 20px;">    &lt;/property&gt;</span><br><span class="line" style="height: 20px;">&lt;/configuration&gt;</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">5.在运行后台程序前, 必须格式化新安装的HDFS, 并通过创建存储目录和初始化元数据创新空的文件系统, (在上述目录下)执行命令:<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">hdfs namenode -format</code></p><p style="margin: 0px 0px 25px;">在控制台出现:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br><span class="line" style="height: 20px;">2</span><br><span class="line" style="height: 20px;">3</span><br><span class="line" style="height: 20px;">4</span><br><span class="line" style="height: 20px;">5</span><br><span class="line" style="height: 20px;">6</span><br><span class="line" style="height: 20px;">7</span><br><span class="line" style="height: 20px;">8</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">#生成类似下面的字符串:</span><br><span class="line" style="height: 20px;">...</span><br><span class="line" style="height: 20px;">#此处省略大部分信息</span><br><span class="line" style="height: 20px;">STARTUP_MSG:   java = 1.7.0_79</span><br><span class="line" style="height: 20px;">************************************************************</span><br><span class="line" style="height: 20px;">/************************************************************</span><br><span class="line" style="height: 20px;">SHUTDOWN_MSG: Shutting down NameNode at Andrew-liudeMacBook-Pro.local/192.168.1.100</span><br><span class="line" style="height: 20px;">************************************************************/</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">这样我们便完成Hadoop的配置，可以启动Hadoop了。</p><h3 id="4-2启动后台程序" style="margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 18px;"><a href="http://codingxiaxw.cn/2016/12/06/59-mac-hadoop/#4-2%E5%90%AF%E5%8A%A8%E5%90%8E%E5%8F%B0%E7%A8%8B%E5%BA%8F" class="headerlink" title="4.2启动后台程序" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;"></a>4.2启动后台程序</h3><p style="margin: 0px 0px 25px;">在<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">/usr/local/Cellar/hadoop/2.7.3/sbin</code>目录下执行如下命令:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br><span class="line" style="height: 20px;">2</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">./start-dfs.sh            //启动HDFS</span><br><span class="line" style="height: 20px;">./stop-dfs.sh           //停止HDFS</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">执行启动/关闭HDFS的命令，控制台输出信息如下:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br><span class="line" style="height: 20px;">2</span><br><span class="line" style="height: 20px;">3</span><br><span class="line" style="height: 20px;">4</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">Starting namenodes on [localhost]</span><br><span class="line" style="height: 20px;">localhost: starting namenode, logging to /usr/local/Cellar/hadoop/2.7.3/libexec/logs/hadoop-tony-namenode-tonys-MacBook-Pro-2.local.out</span><br><span class="line" style="height: 20px;">localhost: starting datanode, logging to /usr/local/Cellar/hadoop/2.7.3/libexec/logs/hadoop-tony-datanode-tonys-MacBook-Pro-2.local.out</span><br><span class="line" style="height: 20px;">Starting secondary namenodes [0.0.0.0]</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">说明成功启动本地服务，此时在浏览器中打开Resource Manager输入如下网址:<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">http://localhost:50070</code>(被读者私信说hadoop3版本以上的端口从50070移到9870了，望注意～)可以看到Hadoop的页面<a href="http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-06%20%E4%B8%8B%E5%8D%882.11.28.png" class="fancybox" rel="group" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;"><img src="http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-06%20%E4%B8%8B%E5%8D%882.11.28.png" alt="" style="border: 1px solid rgb(221, 221, 221); margin: 0px auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;"></a></p><p style="margin: 0px 0px 25px;">还可以继续在命令行中(依旧在<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">/usr/local/Cellar/hadoop/2.7.3/sbin</code>目录下)执行如下启动/关闭脚本命令:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br><span class="line" style="height: 20px;">2</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">./start-yarn.sh        //启动yarn，一个MapReduce框架</span><br><span class="line" style="height: 20px;">./stop-yarn.sh        //停止yarn</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">此时在浏览器中打开JobTracker:&nbsp;<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">http://localhost:8088</code>、Specific Node Information:&nbsp;<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">http://localhost:8042</code>可以分别看到如下界面:</p><p style="margin: 0px 0px 25px;"><a href="http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-06%20%E4%B8%8B%E5%8D%882.16.05.png" class="fancybox" rel="group" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;"><img src="http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-06%20%E4%B8%8B%E5%8D%882.16.05.png" alt="" style="border: 1px solid rgb(221, 221, 221); margin: 0px auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;"></a></p><p style="margin: 0px 0px 25px;"><a href="http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-06%20%E4%B8%8B%E5%8D%882.16.19.png" class="fancybox" rel="group" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;"><img src="http://od2xrf8gr.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-12-06%20%E4%B8%8B%E5%8D%882.16.19.png" alt="" style="border: 1px solid rgb(221, 221, 221); margin: 0px auto; cursor: -webkit-zoom-in; box-sizing: border-box; padding: 3px; display: block !important;"></a></p><p style="margin: 0px 0px 25px;">或者直接运行:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br><span class="line" style="height: 20px;">2</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">./start-all.sh    ##启动Hadoop </span><br><span class="line" style="height: 20px;">./stop-all.sh     ##停止Hadoop</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">该命令可以同时开启/关闭上述三个本地服务。</p><p style="margin: 0px 0px 25px;">但是每次执行上述命令都必须要进入到<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">/usr/local/Cellar/hadoop/2.7.3/sbin</code>目录，为了方便所以我们需要进行Hadoop环境变量配置。使用命令:<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">sudo vim /etc/profile</code>，在其中加入Hadoop环境变量的配置信息:<br></p><figure class="highlight plain" style="margin: 20px 0px; overflow: auto; padding: 15px; font-size: 13px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); line-height: 1.6; background-position: initial initial; background-repeat: initial initial;"><table style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: auto; border: none; font-size: 14px; table-layout: fixed;"><tbody><tr style="background-color: rgb(249, 249, 249);"><td class="gutter" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px 20px 1px 1px; color: rgb(102, 102, 102); background-color: rgb(0, 0, 0); line-height: 1.6; border: none; text-align: right; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">1</span><br><span class="line" style="height: 20px;">2</span><br></pre></td><td class="code" style="padding: 0px; text-align: left; vertical-align: middle; border: none;"><pre style="overflow: auto; font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; padding: 1px; background-color: rgb(0, 0, 0); line-height: 1.6; border: none; background-position: initial initial; background-repeat: initial initial;"><span class="line" style="height: 20px;">export HADOOP_HOME=/usr/local/Cellar/hadoop/2.7.3  #你Hadoop的安装路径</span><br><span class="line" style="height: 20px;">export PATH=$PATH:$HADOOP_HOME/sbin:$HADOOP_HOME/bin</span><br></pre></td></tr></tbody></table></figure><p style="margin: 0px 0px 25px;"></p><p style="margin: 0px 0px 25px;">然后输入命令:<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">source /etc/profile</code>使该文件生效，这样以后你就可以在用户目录下直接使用上述<code style="font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace; font-size: 13px; padding: 2px 4px; color: rgb(234, 234, 234); background-color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial;">start-dfs.sh</code>命令来启动Hadoop了。</p><p style="margin: 0px 0px 25px;">到此，尽情享受Hadoop吧。最后我来个Hadoop的小结。</p><h2 id="5-小结" style="margin: 20px 0px 15px; padding: 10px 0px 0px; line-height: 1.5; font-size: 20px;"><a href="http://codingxiaxw.cn/2016/12/06/59-mac-hadoop/#5-%E5%B0%8F%E7%BB%93" class="headerlink" title="5.小结" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;"></a>5.小结</h2><p style="margin: 0px 0px 25px;">Hadoop是Apache基金会下的项目，它能够处理非常大的数据集在分布式计算环境，它可以运行在三种模式下:</p><ul style="list-style: none;"><li style="list-style: circle;">1.独立式:Hadoop运行所有的东西在无后台的单独的JVM中，这种模式适合在开发阶段测试与Debug MapReduce程序。</li><li style="list-style: circle;">2.伪分布式:Hadoop做为后台应用运行在本地机器，模拟小集群。</li><li style="list-style: circle;">3.全分布式:Hadoop做为后台应用运行真实的集群电脑中。</li></ul><p style="margin: 0px 0px 25px;">因为本人只有一台电脑，所以本篇文章介绍的就是在伪分布式模式下进行的Hadoop的安装介绍。到这里，你可能会有疑惑:独立式、伪分布式、全分布式三种模式又有什么区别呢? 呃…自行google吧，或者点击我已经给你找好的资料链接<a href="http://www.aboutyun.com/thread-6839-1-1.html" target="_blank" rel="external" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;">hadoop的单机、伪分布式、分布式区别</a>，不要太爱我，因为我已经有人爱了。</p><p style="margin: 0px 0px 25px;"><strong>疑惑:</strong><br>很多人问我，在自己电脑上搭建好Hadoop环境以后，下一步该怎么利用Hadoop呢？亲，搭建好Hadoop后当然就可以利用Hadoop相关类对大数据进行处理了撒！</p><p style="margin: 0px 0px 25px;">如何利用Hadoop相关类?首先你得有一款能写Hadoop代码的工具吧(当然你要是想装X的话也可以跳过IDE直接通过命令行编写Hadoop相关类操作)！我这里用的eclipse(别问我为什么我还没转IDEA,我是从IDEA转过来的好嘛。。。虽然我不情愿。。。大哭)，所以就可以在eclipse中通过编写Hadoop的相关类，然后就能对大数据进行处理咯。例子可以进Apache Hadoop官网，里面有很多简单的Examples让你快速入门Hadoop编程哦(由于我赞成大家直接学习Spark，所以就不给学习Hadoop相关知识的资料链接给大家咯)。</p><p style="margin: 0px 0px 25px;">当然我本意是要学习Spark的，然而由于是新手，等好不容易在电脑上搭建完Hadoop，才知道如今学习Spark的话是得重新在电脑上搭建Spark环境的(<strong>括号内容是我学习Spark后又跑过来更的:</strong>废话！使用Spark前不搭建Spark的话那如何使用Spark?所以肯定要先搭建Spark环境了才能使用Spark啊)。。。由于下篇讲mac环境下Spark的搭建的文章<a href="http://codingxiaxw.cn/2016/12/07/60-mac-spark/" style="background-color: transparent; color: rgb(85, 85, 85); text-decoration: none; border-bottom: 1px solid rgb(153, 153, 153); overflow-wrap: break-word;">how to install Spark on Mac</a>时需要我们先搭建Hadoop的环境(为什么？点击链接看下篇文章是如何介绍的吧)，所以还是规规矩矩的按照本教程先完成Hadoop的搭建吧!</p></div></div><div class="cell text-cell">文章转载自：<a href="http://codingxiaxw.cn/2016/12/06/59-mac-hadoop/">http://codingxiaxw.cn/2016/12/06/59-mac-hadoop/</a></div></div>
      <script></script>
    </body>
    </html>
  